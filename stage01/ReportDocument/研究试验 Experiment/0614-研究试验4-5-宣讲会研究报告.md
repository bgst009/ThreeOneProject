# 0614-研究试验4-5-宣讲会研究报告-尹忠恩

1. 连接。c0s中的什么操作使main函数不管放在程序哪里都可以调用？ 改写自己的c0s，实现main函数在文件中任意位置，也可以准确定位main函数。
   1. 没有实现
2. c0s还有什么其他功能？
   1. 相关初始化
   2. 申请资源
   3. 设置DS、SS等寄存器
   4. 在MAIN函数结束后进行相关资源的释放、环境恢复等工作
   5. 调用DOS的21H程序返回。
3. 参数什么时候入栈，a.c中`[bp+2][bp+4][bp+6]`表示什么？
   1. `[bp+2]`  是  `call 子程序`的下一条指令的`ip`地址（在执行call 指令时把把当前的ip入栈，此时的`ip`为下一条指令的`ip`）。
   2. `[bp+4]` 是 字母 `a` 对应的十六进制的 ASCII 码，在子程序执行开始时入栈。
   3. `[bp+6]` 是 颜色对应的 十六进制，在子程序执行开始时入栈。
      1. ==不同==
      2. ![image-20200621165803400](https://gitee.com/bgst007/markdownPicUrl/raw/master/image-20200621165803400.png)
4. 了解printf函数的实现机制，编写可接收任意参数的printf函数。
   1. `printf`可能是根据传入的`%`的个数来确定打印的字符数，读入一个`%`就会读取后面一个字符来确定打印的方式，当读出一个`0`时打印结束
5. Printf和malloc函数在哪个库中存储（注意可表示int的范围-32768到32767）？
   1. c0s.obj 用上自己修改的 c0s.obj 后printf无效果。
   2. ==cs.lib(小模式中的库函数)==
6. #define Buffer((char *)*(int far *)).....里面的char 后面加far后，能正确编译连接吗？如果不能，修改一步使其成功编译
   1. 不能。（Lvalue Required in Function Main）
   2. ==把 int( 16位) 改为 long（32位）==